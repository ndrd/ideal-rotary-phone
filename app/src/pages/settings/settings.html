<!--
  Generated template for the Settings page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header color="primary">

  <ion-navbar>
    <ion-title>Configuración</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

	<div padding-top text-center>
	 <img class="profile" src="http://www.gravatar.com/avatar?d=mm&s=140">
	  <h2>{{user.name}}</h2>
	
	<ion-item-group>
	  <ion-item-divider light>Datos personales</ion-item-divider>
	  <ion-item>
	    <h2>Celular</h2>
	    <h3>{{user.phone}}</h3>
	  </ion-item>
	  <ion-item>
	    <h2># de referencia</h2>
	    <h3>{{user._id}}</h3>
	  </ion-item>
	</ion-item-group>

	<ion-item-group>
	  <ion-item-divider light>Finanzas</ion-item-divider>
      <ion-item>
  	    <ion-icon name='card' item-left></ion-icon>
        	<ion-label>Metodo de pago </ion-label>
            <ion-select [(ngModel)]="user.defaultPaymentMethod" cancelText="Cancelar" okText="Guardar">
              <ion-option *ngFor="let card of user.cards" [value]="card.id" >{{getNumber(card.number)}}</ion-option>
            </ion-select>
	  	</ion-item>
	  	<ion-item>
  	    	<ion-icon name='card' item-left></ion-icon>
        	<ion-label>Cuentas deposito </ion-label>
            <ion-select [(ngModel)]="user.defaultDepositMethod" cancelText="Cancelar" okText="Guardar">
              <ion-option *ngFor="let card of user.cards" [value]="card.id" >{{getNumber(card.number)}}</ion-option>
            </ion-select>
	  	</ion-item>
	</ion-item-group>

	<ion-item-group>
	  	<ion-item-divider>
	  		Metodos de pago
	  	</ion-item-divider>

		<button color="principal" (click)="addPayment()" ion-button round>
			Agregar método de pago
		</button>

		<ion-item-sliding *ngFor="let card of user.cards">
		 
            <ion-item>
            	<ion-icon name="card"></ion-icon>
                {{getNumber(card.number)}}
            </ion-item>
 
            <ion-item-options>
                <button (click)="editCard(card)" light>
                    <ion-icon name="paper"></ion-icon>
                </button>
                <button (click)="deleteCard(card)" danger>
                    <ion-icon name="trash"></ion-icon>
                </button>
            </ion-item-options>
 
        </ion-item-sliding>

	</ion-item-group>

	</div>
</ion-content>
